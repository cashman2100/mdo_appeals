# mdo_appeals

---
# ЗАДАНИЕ 1:

Jupyter Notebook - https://github.com/cashman2100/mdo_appeals/blob/update_2/mdo_appeals_eda.ipynb

**Бизнес-задача** - Реализовать предсказание "количества часов", которое пройдет с момента "принятия/создания" ЖКХ Заявки до момента ее "выполнения/закрытия".

Это позволит:
- Оптимизировать планирование работы исполнителей
- Устанавливать реалистичные SLA для жильцов
- Выявлять проблемные категории заявок

---

**ML-задача:** Регрессия - предсказание непрерывной величины (количество часов до закрытия заявки)

**Метрика качества:**
- **Основная метрика:** MAE (Mean Absolute Error) - средняя абсолютная ошибка в часах
- **Обоснование:** MAE интерпретируема для бизнеса (показывает среднюю ошибку предсказания в часах) и устойчива к выбросам, что важно для заявок с аномально долгим выполнением. Дополнительно будет отслеживаться RMSE для оценки влияния выбросов и R² для общей оценки качества модели.


---


**Набор данных (25221 поступивших и выполненных/завершенных заявок за 2024 год):**
- Файл с данными - https://github.com/cashman2100/mdo_appeals/blob/main/mdo_appeals_25221.csv
- Колонки:
  - **year_day** - день года
  - **created_by_id** - ID сотрудника, создавшего заявку
  - **premise_id** - ID дома
  - **apartment_id** - ID помещения
  - **category_id** - ID категории
  - **priority** - приоритет 1-4 (4 - max, 1 - min)
  - **performer_id** - ID сотрудника-исполнителя
  - **due_date_hours** - количество часов с "момента создания" до "срока выполнения"
  - **assigned_hours** - количество часов с "момента создания" до "назначения сотрудника-исполнителя"
  - **completed_hours** - количество часов до выполнения/закрытия (**TARGET VALUE**)

**Особенности данных:**
- Только **year_day** и **completed_hours** всегда заполнены
- Остальные поля могут содержать пропуски (будет проанализировано в EDA)
- Связь между **category_id** и **priority** не строгая


---
# ЗАДАНИЕ 2 - "Построение и оценка baseline моделей"

Jupyter Notebook - https://github.com/cashman2100/mdo_appeals/blob/main/mdo_appeals_baseline.ipynb

---
# ЗАДАНИЕ 3 - "Построение ансамблевой модели с интерпретацией"

Jupyter Notebook - https://github.com/cashman2100/mdo_appeals/blob/main/mdo_appeals_ensemble.ipynb

ПРИМЕЧАНИЯ:
1) В этой версии учтены замечания к предыдущему заданию - `priority` и другие категориальные признаки обрабатываются через OneHotEncoding.
2) Запуск в Collab может занимать длительное время...
  - 6.1 Random Forest с подбором гиперпараметров - `13 минут`
  - 6.2 Gradient Boosting с подбором гиперпараметров - `8 минут`
  - 8.3 SHAP анализ для глобальной интерпретации - `33 минуты`
